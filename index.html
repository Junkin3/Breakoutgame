<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>In tem A4 - VN</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap&subset=vietnamese" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <style>
        body {
            font-family: 'Roboto', 'Arial', 'Tahoma', sans-serif;
            margin: 20px;
            color: #000;
        }

        .container {
            width: 100%;
            background: #fff;
            padding: 20px;
            box-sizing: border-box;
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #ccc;
            padding-bottom: 10px;
        }

        .header img.logo {
            width: 120px;
        }

        .company-info {
            text-align: center;
            flex: 1;
        }

        .company-info h2 {
            margin: 0;
            font-size: 20px;
        }

        .company-info p {
            margin: 0;
            font-size: 14px;
        }

        .qr-code img {
            width: 150px;
            height: auto;
        }

        /* Main content */
        .main {
            display: flex;
            margin-top: 20px;
        }

        .info-table {
            width: 70%;
            border-collapse: collapse;
        }

        .info-table td {
            padding: 4px 8px;
            vertical-align: top;
            font-size: 14px;
        }

        .info-table td:first-child {
            width: 180px;
        }

        /* Product image and components */
        .right-side {
            width: 30%;
            text-align: center;
            padding-left: 10px;
        }

        .product-image {
            max-width: 100%;
            height: auto;
            margin-bottom: 10px;
            border: 1px solid #ddd;
        }

        .components-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        .components-table th,
        .components-table td {
            border: 1px solid #000;
            padding: 4px;
            text-align: center;
        }

        .components-table th {
            background: #f0f0f0;
        }

        /* Print button */
        .print-btn {
            margin-bottom: 15px;
            padding: 8px 16px;
            background: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 14px;
            border-radius: 4px;
        }

        .print-btn:hover {
            background: #0056b3;
        }

        @media print {
            .print-btn {
                display: none;
            }

            body {
                font-family: 'Roboto', 'Arial', 'Tahoma', sans-serif;
                margin: 0;
                padding: 0;
            }

            .container {
                padding: 10px;
            }
        }
    </style>
</head>

<body>

    <button class="print-btn" id="btn-print">üñ® In tem</button>

    <div class="container" id="print-area">
        <!-- Header -->
        <div class="header">
            <div>
                <img src="Logo AA since 1989-02.png" alt="Logo" class="logo">
            </div>
            <div class="company-info">
                <p style="font-weight: bold; font-size: 24px;">C√îNG TY C·ªî PH·∫¶N X√ÇY D·ª∞NG KI·∫æN TR√öC AA T√ÇY NINH</p>
                <p>ƒê·ªãa ch·ªâ: T·ªï 1, ·∫•p B√πng Binh, x√£ H∆∞ng Thu·∫≠n, T√¢y Ninh, Vi·ªát Nam</p>
            </div>
            <div class="qr-code">
                <img src="https://quickchart.io/qr?text=Hello world&size=150" alt="QR Code">
            </div>
        </div>

        <!-- Main Content -->
        <div class="main">
            <table class="info-table" style="font-weight: bold;">
                <tr>
                    <td>T√äN C√îNG TR√åNH:</td>
                    <td>FINOLHU ISLAND RESORT (PHASE 2) - ISLAND_CT25-029</td>
                </tr>
                <tr>
                    <td>T√äN S·∫¢N PH·∫®M:</td>
                    <td>DOUBLE SLID DOOR_D11A_PV_CT25-029</td>
                </tr>
                <tr>
                    <td>M√É NH√Ä M√ÅY:</td>
                    <td>250506440 &nbsp;&nbsp;&nbsp; X∆Ø·ªûNG: Nh√† x∆∞·ªüng 2A Panel</td>
                </tr>
                <tr>
                    <td>S·ªê L∆Ø·ª¢NG:</td>
                    <td>3 SET</td>
                </tr>
                <tr>
                    <td>M√É SAP TP:</td>
                    <td>0000003000001007253</td>
                </tr>
                <tr>
                    <td>M√É SAP 98*:</td>
                    <td>9800000567</td>
                </tr>
                <tr>
                    <td>M√É KI·ªÜN:</td>
                    <td>K25/000023 &nbsp;&nbsp; NG√ÄY ƒêG: 13/08/2025</td>
                </tr>
                <tr>
                    <td>S·ªê KI·ªÜN:</td>
                    <td>1/3</td>
                </tr>
                <tr>
                    <td>GHI CH√ö:</td>
                    <td>H√†ng ƒëi g·∫•p</td>
                </tr>
                <tr>
                    <td>KHU V·ª∞C:</td>
                    <td>Guest room Th√°p A T·∫ßng 3 CƒÉn A3.4</td>
                </tr>
                <tr>
                    <td>PH·ª§ KI·ªÜN:</td>
                    <td><input type="checkbox" checked> C√≥</td>
                </tr>
                <tr>
                    <td>TR·ªåNG L∆Ø·ª¢NG (KG):</td>
                    <td style="font-size: 28px;">5</td>
                </tr>
                <tr>
                    <td>H∆Ø·ªöNG ƒê·∫∂T KI·ªÜN:</td>
                    <td>‚Üë &nbsp;&nbsp; H√ÄNG D·ªÑ V·ª†: <input type="checkbox"> Kh√¥ng</td>
                </tr>
            </table>

            <div class="right-side">
                <img src="Logo AA since 1989-02.png" alt="S·∫£n ph·∫©m" class="product-image">
                <table class="components-table">
                    <tr>
                        <th>STT</th>
                        <th>Component</th>
                        <th>ƒêVT</th>
                        <th>S·ªë l∆∞·ª£ng</th>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>T√™n t·∫°m A</td>
                        <td>B·ªô</td>
                        <td>1</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <script>
       $(document).ready(function () {
    $("#btn-print").on('click', function () {
        // T·∫°m th·ªùi thay th·∫ø c√°c gi√° tr·ªã oklch() tr∆∞·ªõc khi ch·ª•p
        const originalStyles = replaceOklchColors();
        
        html2canvas(document.getElementById("print-area"), {
            scale: 2,
            useCORS: true,
            backgroundColor: "#fff",
            logging: true,
            allowTaint: true
        }).then(function(canvas) {
            // Kh√¥i ph·ª•c l·∫°i c√°c gi√° tr·ªã m√†u g·ªëc
            restoreOriginalColors(originalStyles);
            
            var printWindow = window.open('', '_blank');
            printWindow.document.write('<html><head><title>In tem s·∫£n ph·∫©m</title>');
            printWindow.document.write('<style>@page { size: A4; margin: 0; } body { margin: 0; } img { max-width: 100%; height: auto; }</style>');
            printWindow.document.write('</head><body>');
            printWindow.document.write('<img src="' + canvas.toDataURL('image/png') + '" style="display: block; margin: 0 auto;">');
            printWindow.document.write('<script>setTimeout(function() { window.print(); window.close(); }, 500);<\/script>');
            printWindow.document.write('</body></html>');
            printWindow.document.close();
        }).catch(function(error) {
            console.error('Error generating canvas:', error);
            alert('L·ªói khi t·∫°o b·∫£n in: ' + error.message);
        });
    });

    // H√†m thay th·∫ø t·∫•t c·∫£ oklch() trong CSS
    function replaceOklchColors() {
        const elements = document.querySelectorAll('*');
        const originalStyles = [];
        
        elements.forEach(el => {
            const computedStyle = getComputedStyle(el);
            const styleProps = ['color', 'background-color', 'border-color', 'box-shadow', 'text-shadow'];
            
            styleProps.forEach(prop => {
                const value = computedStyle.getPropertyValue(prop);
                if (value.includes('oklch')) {
                    originalStyles.push({
                        element: el,
                        property: prop,
                        value: el.style[prop]
                    });
                    
                    // Thay th·∫ø b·∫±ng m√†u d·ª± ph√≤ng
                    if (prop === 'color') {
                        el.style[prop] = '#000000'; // M√†u ƒëen
                    } else if (prop === 'background-color') {
                        el.style[prop] = '#ffffff'; // M√†u tr·∫Øng
                    } else {
                        el.style[prop] = 'none';
                    }
                }
            });
        });
        
        return originalStyles;
    }
    
    // H√†m kh√¥i ph·ª•c m√†u g·ªëc
    function restoreOriginalColors(originalStyles) {
        originalStyles.forEach(style => {
            if (style.element && style.property) {
                style.element.style[style.property] = style.value;
            }
        });
    }
});
    </script>
</body>

</html>

